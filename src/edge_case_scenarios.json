{
  "version": "1.0.0",
  "description": "Comprehensive edge case test scenarios for Factorio ROI Calculator",
  "created_date": "2025-01-07",
  "categories": [
    "extreme_values",
    "zero_values", 
    "negative_scenarios",
    "chilean_specifics",
    "special_characters",
    "concurrent_access",
    "memory_stress",
    "network_failures",
    "currency_conversions",
    "pdf_generation"
  ],
  "scenarios": {
    "zero_revenue_company": {
      "category": "zero_values",
      "description": "Company with zero revenue but operating costs",
      "inputs": {
        "annual_revenue": 0,
        "monthly_orders": 0,
        "avg_order_value": 0,
        "labor_costs": 5000,
        "shipping_costs": 2000,
        "error_costs": 1000,
        "inventory_costs": 1500,
        "service_investment": 25000,
        "company_name": "Zero Revenue Corp",
        "currency": "USD"
      },
      "expected_outcome": "success",
      "expected_warnings": ["Low or zero revenue"]
    },
    
    "billion_dollar_company": {
      "category": "extreme_values",
      "description": "Multi-billion dollar enterprise with massive scale",
      "inputs": {
        "annual_revenue": 5000000000,
        "monthly_orders": 2000000,
        "avg_order_value": 208.33,
        "labor_costs": 2000000,
        "shipping_costs": 1500000,
        "error_costs": 500000,
        "inventory_costs": 800000,
        "service_investment": 5000000,
        "company_name": "MegaCorp Global",
        "currency": "USD"
      },
      "expected_outcome": "success",
      "expected_warnings": []
    },
    
    "negative_values": {
      "category": "negative_scenarios",
      "description": "Input with negative values that should be corrected",
      "inputs": {
        "annual_revenue": -1000000,
        "monthly_orders": -500,
        "avg_order_value": -200,
        "labor_costs": -5000,
        "shipping_costs": -3000,
        "error_costs": -2000,
        "inventory_costs": -1000,
        "service_investment": -50000,
        "company_name": "Negative Values Inc"
      },
      "expected_outcome": "success",
      "expected_errors": ["Negative values not allowed"]
    },
    
    "infinite_values": {
      "category": "extreme_values", 
      "description": "Input with infinite and NaN values",
      "inputs": {
        "annual_revenue": "inf",
        "monthly_orders": "-inf",
        "avg_order_value": "nan",
        "labor_costs": 1.7976931348623157e+308,
        "shipping_costs": 5000,
        "error_costs": 2000,
        "inventory_costs": 3000,
        "service_investment": 50000,
        "company_name": "Infinite Corp"
      },
      "expected_outcome": "success",
      "expected_errors": ["Infinite values not allowed", "NaN not allowed"]
    },
    
    "high_cost_ratio": {
      "category": "negative_scenarios",
      "description": "Company where costs exceed revenue",
      "inputs": {
        "annual_revenue": 500000,
        "monthly_orders": 1000,
        "avg_order_value": 41.67,
        "labor_costs": 30000,
        "shipping_costs": 20000,
        "error_costs": 15000,
        "inventory_costs": 10000,
        "service_investment": 100000,
        "company_name": "High Cost Corp"
      },
      "expected_outcome": "success",
      "expected_warnings": ["Total costs exceed revenue"]
    },
    
    "spanish_company": {
      "category": "special_characters",
      "description": "Chilean company with Spanish characters",
      "inputs": {
        "annual_revenue": 1200000000,
        "monthly_orders": 15000,
        "avg_order_value": 6667,
        "labor_costs": 8000000,
        "shipping_costs": 5000000,
        "error_costs": 2000000,
        "inventory_costs": 3000000,
        "service_investment": 50000000,
        "company_name": "Jos√© Mar√≠a & Asociados Pe√±afiel S.A.",
        "industry": "Comercio electr√≥nico",
        "currency": "CLP"
      },
      "expected_outcome": "success",
      "expected_warnings": []
    },
    
    "unicode_nightmare": {
      "category": "special_characters",
      "description": "Company name with various Unicode characters",
      "inputs": {
        "annual_revenue": 2000000,
        "monthly_orders": 5000,
        "avg_order_value": 33.33,
        "labor_costs": 10000,
        "shipping_costs": 8000,
        "error_costs": 3000,
        "inventory_costs": 4000,
        "service_investment": 75000,
        "company_name": "ÊµãËØïÂÖ¨Âè∏ Jos√© & Fran√ßois na√Øve r√©sum√© üöÄ",
        "industry": "E-commerce ÁîµÂïÜ",
        "currency": "USD"
      },
      "expected_outcome": "success",
      "expected_warnings": ["Special characters sanitized"]
    },
    
    "uf_conversion_chile": {
      "category": "chilean_specifics",
      "description": "Chilean company using UF (Unidades de Fomento)",
      "inputs": {
        "annual_revenue": 24000000,
        "monthly_orders": 8000,
        "avg_order_value": 250,
        "labor_costs": 1500000,
        "shipping_costs": 800000,
        "error_costs": 400000,
        "inventory_costs": 600000,
        "service_investment": 2500000,
        "company_name": "Empresa Chilena Ltda.",
        "currency": "CLP",
        "uf_amount": 1000,
        "inflation_rate": 0.15,
        "include_iva": true
      },
      "expected_outcome": "success",
      "expected_warnings": ["High inflation rate detected"]
    },
    
    "hyperinflation_scenario": {
      "category": "chilean_specifics",
      "description": "Extreme inflation scenario",
      "inputs": {
        "annual_revenue": 10000000,
        "monthly_orders": 2000,
        "avg_order_value": 417,
        "labor_costs": 500000,
        "shipping_costs": 300000,
        "error_costs": 150000,
        "inventory_costs": 200000,
        "service_investment": 1000000,
        "company_name": "Crisis Corp",
        "currency": "CLP",
        "inflation_rate": 5.0,
        "include_iva": true
      },
      "expected_outcome": "success",
      "expected_errors": ["Inflation rate exceeds maximum"]
    },
    
    "empty_strings": {
      "category": "zero_values",
      "description": "All string fields empty or null",
      "inputs": {
        "annual_revenue": 1500000,
        "monthly_orders": 3000,
        "avg_order_value": 41.67,
        "labor_costs": 8000,
        "shipping_costs": 5000,
        "error_costs": 2500,
        "inventory_costs": 3500,
        "service_investment": 40000,
        "company_name": "",
        "industry": null,
        "currency": "",
        "country": "   "
      },
      "expected_outcome": "success",
      "expected_warnings": ["Empty string fields detected"]
    },
    
    "very_long_strings": {
      "category": "extreme_values",
      "description": "String fields exceeding maximum length",
      "inputs": {
        "annual_revenue": 3000000,
        "monthly_orders": 6000,
        "avg_order_value": 41.67,
        "labor_costs": 12000,
        "shipping_costs": 8000,
        "error_costs": 4000,
        "inventory_costs": 5000,
        "service_investment": 60000,
        "company_name": "Very Long Company Name That Exceeds Normal Limits And Should Be Truncated Or Generate Warnings Because It Is Extremely Long And Unrealistic For A Real Company Name In Any Business Context",
        "industry": "This is also a very long industry description that should be handled appropriately by the validation system",
        "currency": "INVALID_CURRENCY_CODE_TOO_LONG"
      },
      "expected_outcome": "success",
      "expected_warnings": ["String length exceeds maximum"]
    },
    
    "japanese_yen_edge_case": {
      "category": "currency_conversions",
      "description": "Japanese Yen with decimal values",
      "inputs": {
        "annual_revenue": 120000000,
        "monthly_orders": 10000,
        "avg_order_value": 1000,
        "labor_costs": 800000,
        "shipping_costs": 600000,
        "error_costs": 300000,
        "inventory_costs": 400000,
        "service_investment": 5000000,
        "company_name": "Tokyo Electronics",
        "currency": "JPY"
      },
      "expected_outcome": "success",
      "expected_warnings": ["JPY amount rounded to nearest integer"]
    },
    
    "micro_transactions": {
      "category": "extreme_values",
      "description": "Very high volume, very low value transactions",
      "inputs": {
        "annual_revenue": 1000000,
        "monthly_orders": 1000000,
        "avg_order_value": 0.083,
        "labor_costs": 15000,
        "shipping_costs": 50000,
        "error_costs": 25000,
        "inventory_costs": 10000,
        "service_investment": 200000,
        "company_name": "MicroTrans Inc"
      },
      "expected_outcome": "success",
      "expected_warnings": ["Very low average order value"]
    },
    
    "luxury_goods": {
      "category": "extreme_values", 
      "description": "Very low volume, very high value transactions",
      "inputs": {
        "annual_revenue": 10000000,
        "monthly_orders": 50,
        "avg_order_value": 16667,
        "labor_costs": 25000,
        "shipping_costs": 15000,
        "error_costs": 50000,
        "inventory_costs": 100000,
        "service_investment": 500000,
        "company_name": "Luxury Goods Ltd"
      },
      "expected_outcome": "success",
      "expected_warnings": ["Very high average order value"]
    },
    
    "decimal_precision": {
      "category": "extreme_values",
      "description": "High precision decimal values",
      "inputs": {
        "annual_revenue": 1234567.89012345,
        "monthly_orders": 5678.9012,
        "avg_order_value": 18.123456789,
        "labor_costs": 9876.54321,
        "shipping_costs": 5432.10987,
        "error_costs": 2468.13579,
        "inventory_costs": 3691.01234,
        "service_investment": 54321.98765,
        "company_name": "Precision Corp"
      },
      "expected_outcome": "success",
      "expected_warnings": []
    },
    
    "scientific_notation": {
      "category": "extreme_values",
      "description": "Values in scientific notation",
      "inputs": {
        "annual_revenue": "2.5e6",
        "monthly_orders": "1.2e4", 
        "avg_order_value": "1.74e2",
        "labor_costs": "8.5e3",
        "shipping_costs": "6.7e3",
        "error_costs": "3.2e3",
        "inventory_costs": "4.8e3",
        "service_investment": "7.5e4",
        "company_name": "Scientific Corp"
      },
      "expected_outcome": "success",
      "expected_warnings": []
    },
    
    "malformed_numbers": {
      "category": "validation_errors",
      "description": "Various malformed numeric inputs",
      "inputs": {
        "annual_revenue": "1,500,000.50",
        "monthly_orders": "$5,000",
        "avg_order_value": "‚Ç¨25.75",
        "labor_costs": "¬•800,000",
        "shipping_costs": "5K",
        "error_costs": "2.5k",
        "inventory_costs": "3,500.00 USD",
        "service_investment": "50 thousand",
        "company_name": "Malformed Numbers Inc"
      },
      "expected_outcome": "success",
      "expected_warnings": ["Numeric format corrected"]
    },
    
    "sql_injection_attempt": {
      "category": "special_characters",
      "description": "Attempt to inject SQL code",
      "inputs": {
        "annual_revenue": 2000000,
        "monthly_orders": 4000,
        "avg_order_value": 41.67,
        "labor_costs": 10000,
        "shipping_costs": 7000,
        "error_costs": 3000,
        "inventory_costs": 4000,
        "service_investment": 60000,
        "company_name": "'; DROP TABLE companies; --",
        "industry": "1' OR '1'='1",
        "currency": "USD"
      },
      "expected_outcome": "success",
      "expected_warnings": ["Special characters sanitized"]
    },
    
    "xss_attempt": {
      "category": "special_characters",
      "description": "Attempt to inject XSS code",
      "inputs": {
        "annual_revenue": 1800000,
        "monthly_orders": 3500,
        "avg_order_value": 42.86,
        "labor_costs": 9000,
        "shipping_costs": 6000,
        "error_costs": 2500,
        "inventory_costs": 3500,
        "service_investment": 45000,
        "company_name": "<script>alert('XSS')</script>",
        "industry": "javascript:alert('XSS')",
        "currency": "USD"
      },
      "expected_outcome": "success",
      "expected_warnings": ["Special characters sanitized"]
    }
  },
  
  "stress_test_scenarios": {
    "concurrent_calculations": {
      "description": "Multiple simultaneous ROI calculations",
      "concurrent_threads": 50,
      "base_inputs": {
        "annual_revenue": 1500000,
        "monthly_orders": 3000,
        "avg_order_value": 41.67,
        "labor_costs": 8000,
        "shipping_costs": 5500,
        "error_costs": 2800,
        "inventory_costs": 3200,
        "service_investment": 50000
      },
      "variations": {
        "revenue_multiplier": [0.5, 1.0, 1.5, 2.0, 5.0, 10.0],
        "cost_multiplier": [0.8, 1.0, 1.2, 1.5, 2.0]
      }
    },
    
    "memory_stress": {
      "description": "High memory usage scenario",
      "large_array_size": 100000,
      "monte_carlo_iterations": 50000,
      "simultaneous_calculations": 20
    },
    
    "pdf_generation_stress": {
      "description": "Concurrent PDF generation with special characters",
      "concurrent_pdfs": 25,
      "company_names": [
        "Jos√© Mar√≠a & Asociados",
        "Se√±or√≠a Espa√±ola S.A.",
        "Compa√±√≠a √ëu√±oa",
        "Fran√ßois & Andr√© Ltd",
        "na√Øve r√©sum√© Corp"
      ]
    }
  },
  
  "network_failure_scenarios": {
    "currency_api_down": {
      "description": "Currency API is unavailable",
      "failure_type": "network_timeout",
      "fallback_behavior": "use_cached_rates"
    },
    
    "partial_network_failure": {
      "description": "Intermittent network connectivity",
      "failure_rate": 0.3,
      "retry_behavior": "exponential_backoff"
    },
    
    "dns_failure": {
      "description": "DNS resolution failure",
      "failure_type": "dns_error",
      "fallback_behavior": "use_fallback_rates"
    }
  },
  
  "performance_benchmarks": {
    "calculation_time_limits": {
      "simple_calculation": {"max_time_ms": 100},
      "complex_calculation": {"max_time_ms": 500},
      "monte_carlo_simulation": {"max_time_ms": 5000}
    },
    
    "memory_limits": {
      "max_memory_mb": 1024,
      "gc_frequency": "after_each_calculation"
    },
    
    "concurrent_limits": {
      "max_concurrent_calculations": 100,
      "max_concurrent_pdf_generation": 20
    }
  },
  
  "recovery_scenarios": {
    "calculation_error_recovery": {
      "description": "Recover from calculation errors gracefully",
      "error_types": [
        "division_by_zero",
        "numerical_overflow", 
        "invalid_input_type",
        "missing_required_field"
      ],
      "expected_behavior": "return_safe_fallback_value"
    },
    
    "memory_exhaustion_recovery": {
      "description": "Graceful handling of memory exhaustion",
      "trigger": "allocate_large_array",
      "expected_behavior": "gc_and_retry_or_fail_gracefully"
    },
    
    "timeout_recovery": {
      "description": "Handle calculation timeouts",
      "timeout_seconds": 30,
      "expected_behavior": "return_partial_results_or_error"
    }
  }
}